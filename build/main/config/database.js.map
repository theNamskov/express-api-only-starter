{"version":3,"sources":["../../../src/main/config/database.js"],"names":["connected","chalk","bold","cyan","error","yellow","disconnected","red","termination","magenta","DB_URL","process","env","NODE_ENV","keys","DB_URL_PRODUCTION","DB_URL_DEVELOPMENT","database","mongoose","connect","useCreateIndex","useNewUrlParser","useFindAndModify","useUnifiedTopology","connection","on","console","log","err","close","exit"],"mappings":";;;;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAHA;AAKA,IAAMA,SAAS,GAAGC,kBAAMC,IAAN,CAAWC,IAA7B;AACA,IAAMC,KAAK,GAAGH,kBAAMC,IAAN,CAAWG,MAAzB;AACA,IAAMC,YAAY,GAAGL,kBAAMC,IAAN,CAAWK,GAAhC;AACA,IAAMC,WAAW,GAAGP,kBAAMC,IAAN,CAAWO,OAA/B;AAEA,IAAMC,MAAM,GACVC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAAzB,GACIC,WAAKC,iBADT,GAEID,WAAKE,kBAHX;;AAKO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AAC5BC,uBAASC,OAAT,CAAiBT,MAAjB,EAAyB;AACvBU,IAAAA,cAAc,EAAE,IADO;AAEvBC,IAAAA,eAAe,EAAE,IAFM;AAGvBC,IAAAA,gBAAgB,EAAE,KAHK;AAIvBC,IAAAA,kBAAkB,EAAE;AAJG,GAAzB;;AAOAL,uBAASM,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC,YAAY;AAC9CC,IAAAA,OAAO,CAACC,GAAR,CAAY3B,SAAS,CAAC,qCAAD,CAArB;AACD,GAFD;;AAIAkB,uBAASM,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAAgC,UAAUG,GAAV,EAAe;AAC7CF,IAAAA,OAAO,CAACC,GAAR,CACEvB,KAAK,CAAC,6CAA6CwB,GAA7C,GAAmD,QAApD,CADP;AAGD,GAJD;;AAMAV,uBAASM,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC,YAAY;AACjDC,IAAAA,OAAO,CAACC,GAAR,CAAYrB,YAAY,CAAC,6CAAD,CAAxB;AACD,GAFD;;AAIAK,EAAAA,OAAO,CAACc,EAAR,CAAW,QAAX,EAAqB,YAAY;AAC/BP,yBAASM,UAAT,CAAoBK,KAApB,CAA0B,YAAY;AACpCH,MAAAA,OAAO,CAACC,GAAR,CACEnB,WAAW,CACT,4EADS,CADb;AAKAG,MAAAA,OAAO,CAACmB,IAAR,CAAa,CAAb;AACD,KAPD;AAQD,GATD;AAUD,CAhCM","sourcesContent":["import 'dotenv/config'\n//Import the mongoose module\nimport mongoose from 'mongoose'\nimport chalk from 'chalk'\nimport {keys} from './keys'\n\nconst connected = chalk.bold.cyan\nconst error = chalk.bold.yellow\nconst disconnected = chalk.bold.red\nconst termination = chalk.bold.magenta\n\nconst DB_URL =\n  process.env.NODE_ENV === 'production'\n    ? keys.DB_URL_PRODUCTION\n    : keys.DB_URL_DEVELOPMENT\n\nexport const database = () => {\n  mongoose.connect(DB_URL, {\n    useCreateIndex: true,\n    useNewUrlParser: true,\n    useFindAndModify: false,\n    useUnifiedTopology: true,\n  })\n\n  mongoose.connection.on('connected', function () {\n    console.log(connected('Mongoose default connection is open'))\n  })\n\n  mongoose.connection.on('error', function (err) {\n    console.log(\n      error('Mongoose default connection has occured ' + err + ' error'),\n    )\n  })\n\n  mongoose.connection.on('disconnected', function () {\n    console.log(disconnected('Mongoose default connection is disconnected'))\n  })\n\n  process.on('SIGINT', function () {\n    mongoose.connection.close(function () {\n      console.log(\n        termination(\n          'Mongoose default connection is disconnected due to application termination',\n        ),\n      )\n      process.exit(0)\n    })\n  })\n}\n"],"file":"database.js"}